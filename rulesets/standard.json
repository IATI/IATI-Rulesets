{
  "//iati-activity": {
    "unique": {
      "cases": [
        {
          "paths": ["reporting-org/@ref", "iati-identifier"],
          "ruleInfo": {
            "id": "1.1.3",
            "severity": "error",
            "category": "identifiers",
            "message": "The activity identifier must be different to the organisation identifier of the reporting organisation.",
            "link": {
              "path": "activity-standard/iati-activities/iati-activity/iati-identifier/"
            }
          }
        }
      ]
    },
    "startswith": {
      "cases": [
        {
          "prefix": ["reporting-org/@ref", "other-identifier[@type='B1']/@ref"],
          "separator": "-",
          "paths": ["iati-identifier"],
          "ruleInfo": {
            "id": "1.1.21",
            "severity": "warning",
            "category": "identifiers",
            "message": "The activity identifier should begin with your IATI organisation identifier (either the current IATI Organisation identifier for the reporting organisation or a previous version included in other-identifier element) followed by a unique string for the activity separated by a hyphen",
            "link": {
              "path": "activity-standard/iati-activities/iati-activity/iati-identifier/"
            }
          }
        },
        {
          "idCondition": "NOT_EXISTING_ORG_ID",
          "prefix": ["ORG-ID-PREFIX"],
          "paths": ["reporting-org/@ref"],
          "ruleInfo": {
            "id": "1.14.8",
            "severity": "warning",
            "category": "identifiers",
            "message": "The reporting organisation id must start with an approved agency code.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/preparing-organisation/organisation-account/how-to-create-your-iati-organisation-identifier/"
            }
          }
        }
      ]
    },
    "atleast_one": {
      "cases": [
        {
          "paths": ["activity-date[@type='1' or @type='2']"],
          "ruleInfo": {
            "id": "6.11.1",
            "severity": "error",
            "category": "information",
            "message": "The activity must have a planned start date or an actual start date.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/activity-dates-status/"
            }
          }
        },
        {
          "paths": ["sector", "transaction/sector"],
          "ruleInfo": {
            "id": "6.2.2",
            "severity": "error",
            "category": "classifications",
            "message": "Each activity must have a specified sector, either at activity level OR for all transactions.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/activity-thematic-focus/"
            }
          }
        }
      ]
    },
    "one_or_all": {
      "cases": [
        {
          "one": "@xml:lang",
          "all": "lang",
          "ruleInfo": {
            "id": "4.1.1",
            "severity": "error",
            "category": "information",
            "message": "The activity should specify a default language OR the language must be specified for each narrative element.",
            "link": { "path": "codelists/Language/" }
          }
        },
        {
          "one": "sector",
          "all": "sector",
          "ruleInfo": {
            "id": "6.7.2",
            "severity": "error",
            "category": "classifications",
            "message": "If sector is declared at transaction level, a sector must be declared for all transactions.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/activity-thematic-focus/"
            }
          }
        },
        {
          "one": "@default-currency",
          "all": "currency",
          "ruleInfo": {
            "id": "7.8.1",
            "severity": "error",
            "category": "financial",
            "message": "The activity should specify a default currency OR the currency must be specified for each monetary value.",
            "link": { "path": "codelists/Currency/" }
          }
        }
      ]
    },
    "date_now": {
      "cases": [
        {
          "date": "@last-updated-datetime",
          "ruleInfo": {
            "id": "11.1.1",
            "severity": "error",
            "category": "information",
            "message": "The last updated datetime of the activity must not be in the future.",
            "link": {
              "path": "activity-standard/iati-activities/iati-activity/"
            }
          }
        }
      ]
    },
    "date_order": {
      "cases": [
        {
          "less": "activity-date[@type='1']/@iso-date",
          "more": "activity-date[@type='3']/@iso-date",
          "ruleInfo": {
            "id": "11.1.2",
            "severity": "error",
            "category": "iati",
            "message": "The planned start date of the activity must be before the planned end date.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/activity-dates-status/"
            }
          }
        },
        {
          "less": "activity-date[@type='2']/@iso-date",
          "more": "activity-date[@type='4']/@iso-date",
          "ruleInfo": {
            "id": "11.1.3",
            "severity": "error",
            "category": "iati",
            "message": "The actual start date of the activity must be before the actual end date.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/activity-dates-status/"
            }
          }
        },
        {
          "less": "activity-date[@type='2']/@iso-date",
          "more": "NOW",
          "ruleInfo": {
            "id": "11.1.4",
            "severity": "error",
            "category": "iati",
            "message": "The actual start date of the activity must not be in the future.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/activity-dates-status/"
            }
          }
        },
        {
          "less": "activity-date[@type='4']/@iso-date",
          "more": "NOW",
          "ruleInfo": {
            "id": "11.1.5",
            "severity": "error",
            "category": "iati",
            "message": "The actual end date of the activity must not be in the future.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/activity-dates-status/"
            }
          }
        },
        {
          "less": "transaction/transaction-date/@iso-date",
          "more": "NOW",
          "ruleInfo": {
            "id": "11.2.1",
            "severity": "error",
            "category": "financial",
            "message": "The transaction date must not be in the future.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/financial-transactions/"
            }
          }
        },
        {
          "less": "transaction/value/@value-date",
          "more": "NOW",
          "ruleInfo": {
            "id": "11.2.2",
            "severity": "error",
            "category": "financial",
            "message": "The transaction value date must not be in the future.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/financial-transactions/"
            }
          }
        }
      ]
    },
    "regex_matches": {
      "cases": [
        {
          "idCondition": "NOT_EXISTING_ORG_ID_PREFIX",
          "regex": "^[^\\/\\&\\|\\?]+$",
          "paths": ["iati-identifier"],
          "ruleInfo": {
            "id": "1.3.13",
            "severity": "warning",
            "category": "identifiers",
            "message": "The iati-identifier must not contain any of the symbols /, &, | or ?."
          }
        },
        {
          "idCondition": "NOT_EXISTING_ORG_ID",
          "regex": "^[^\\/\\&\\|\\?]+$",
          "paths": ["reporting-org/@ref"],
          "ruleInfo": {
            "id": "1.14.13",
            "severity": "warning",
            "category": "identifiers",
            "message": "The reporting-org identifier must not contain any of the symbols /, &, | or ?.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/preparing-organisation/organisation-account/how-to-create-your-iati-organisation-identifier/"
            }
          }
        }
      ]
    },
    "no_spaces": {
      "cases": [
        {
          "paths": ["iati-identifier"],
          "ruleInfo": {
            "id": "1.3.1",
            "severity": "warning",
            "category": "identifiers",
            "message": "The iati-identifier should not start or end with spaces or newlines."
          }
        },
        {
          "paths": ["reporting-org/@ref"],
          "ruleInfo": {
            "id": "1.14.1",
            "severity": "warning",
            "category": "identifiers",
            "message": "The reporting-org identifier should not start or end with spaces or newlines.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/preparing-organisation/organisation-account/how-to-create-your-iati-organisation-identifier/"
            }
          }
        },
        {
          "paths": ["other-identifier[@type='B1']/@ref"],
          "ruleInfo": {
            "id": "1.16.1",
            "severity": "warning",
            "category": "identifiers",
            "message": "The previous reporting organisation identifier should not start or end with spaces or newlines."
          }
        },
        {
          "paths": ["other-identifier[@type='A3']/@ref"],
          "ruleInfo": {
            "id": "1.6.1",
            "severity": "warning",
            "category": "identifiers",
            "message": "The previous activity identifier should not start or end with spaces or newlines."
          }
        },
        {
          "paths": ["related-activity/@ref"],
          "ruleInfo": {
            "id": "1.7.1",
            "severity": "warning",
            "category": "relations",
            "message": "The related activity identifier should not start or end with spaces or newlines."
          }
        }
      ]
    },
    "loop": {
      "cases": [
        {
          "foreach": "description/@type",
          "do": {
            "if_then": {
              "cases": [
                {
                  "if": "description[@type = '$1']/narrative",
                  "then": "string(description[@type = '$1']//narrative) != ''",
                  "paths": ["description[@type = '$1']/narrative"],
                  "ruleInfo": {
                    "id": "4.4.1",
                    "severity": "error",
                    "category": "information",
                    "message": "The description must contain narrative content.",
                    "link": {
                      "path": "activity-standard/iati-activities/iati-activity/title/"
                    }
                  }
                }
              ]
            }
          },
          "subs": ["if", "then", "paths"]
        },
        {
          "foreach": "sector[@vocabulary != '1']/@vocabulary",
          "do": {
            "strict_sum": {
              "cases": [
                {
                  "paths": ["sector[@vocabulary = '$1']/@percentage"],
                  "sum": 100,
                  "ruleInfo": {
                    "id": "2.1.2",
                    "severity": "error",
                    "category": "classifications",
                    "message": "Percentage values for sectors, within a vocabulary (e.g. 1 - OECD DAC), must add up to 100%.",
                    "link": {
                      "url": "https://iatistandard.org/en/guidance/standard-guidance/activity-thematic-focus/"
                    }
                  }
                }
              ]
            }
          },
          "subs": ["paths"]
        },
        {
          "foreach": "recipient-region/@vocabulary",
          "do": {
            "if_then": {
              "cases": [
                {
                  "if": "count(recipient-region[@vocabulary = '$1']) > 1",
                  "then": "count(recipient-region[@vocabulary = '$1']) = count(recipient-region[@vocabulary = '$1']/@percentage)",
                  "paths": ["recipient-region[@vocabulary = '$1']"],
                  "ruleInfo": {
                    "id": "3.4.1",
                    "severity": "error",
                    "category": "geo",
                    "message": "When multiple recipient countries or regions are declared, each must have a percentage.",
                    "link": {
                      "url": "https://iatistandard.org/en/guidance/standard-guidance/countries-regions/"
                    }
                  }
                }
              ]
            }
          },
          "subs": ["if", "then", "paths"]
        },
        {
          "foreach": "recipient-region/@vocabulary",
          "do": {
            "if_then": {
              "cases": [
                {
                  "if": "count(recipient-region[@vocabulary = '$1']) = 1 and not(recipient-country)",
                  "then": "not(recipient-region[@vocabulary = '$1']/@percentage) or recipient-region[@vocabulary = '$1']/@percentage = 100",
                  "paths": [
                    "recipient-region[@vocabulary = '$1']",
                    "recipient-country"
                  ],
                  "ruleInfo": {
                    "id": "3.4.4",
                    "severity": "error",
                    "category": "geo",
                    "message": "When a single recipient region in a vocabulary is declared, the percentage must either be omitted, or set to 100.",
                    "link": {
                      "url": "https://iatistandard.org/en/guidance/standard-guidance/countries-regions/"
                    }
                  }
                }
              ]
            }
          },
          "subs": ["if", "then", "paths"]
        },
        {
          "foreach": "recipient-region/@vocabulary",
          "do": {
            "strict_sum": {
              "cases": [
                {
                  "condition": "count(recipient-region[@vocabulary = '$1']) + count(recipient-country) > 1",
                  "paths": [
                    "recipient-region[@vocabulary = '$1']/@percentage",
                    "recipient-country/@percentage"
                  ],
                  "sum": 100,
                  "ruleInfo": {
                    "id": "3.4.2",
                    "severity": "error",
                    "category": "geo",
                    "message": "Percentage values for recipient countries or regions, must add up to 100%.",
                    "link": {
                      "url": "https://iatistandard.org/en/guidance/standard-guidance/countries-regions/"
                    }
                  }
                }
              ]
            }
          },
          "subs": ["paths", "condition"]
        },
        {
          "foreach": "sector[@vocabulary != '1']/@vocabulary",
          "do": {
            "if_then": {
              "cases": [
                {
                  "if": "count(sector[@vocabulary = '$1']) > 1",
                  "then": "count(sector[@vocabulary = '$1']) = count(sector[@vocabulary = '$1']/@percentage)",
                  "paths": ["sector[@vocabulary = '$1']"],
                  "ruleInfo": {
                    "id": "2.1.1",
                    "severity": "error",
                    "category": "classifications",
                    "message": "When multiple sectors, within a vocabulary (e.g. 1 - OECD DAC) are declared, each must have a percentage.",
                    "link": {
                      "url": "https://iatistandard.org/en/guidance/standard-guidance/activity-thematic-focus/"
                    }
                  }
                }
              ]
            }
          },
          "subs": ["if", "then", "paths"]
        },
        {
          "foreach": "sector[@vocabulary != '1']/@vocabulary",
          "do": {
            "if_then": {
              "cases": [
                {
                  "if": "count(sector[@vocabulary = '$1']) = 1",
                  "then": "not(sector[@vocabulary = '$1']/@percentage) or sector[@vocabulary = '$1']/@percentage = 100",
                  "paths": ["sector[@vocabulary = '$1']"],
                  "ruleInfo": {
                    "id": "2.1.4",
                    "severity": "error",
                    "category": "classifications",
                    "message": "When a single sector is declared, the percentage must either be omitted, or set to 100.",
                    "link": {
                      "url": "https://iatistandard.org/en/guidance/standard-guidance/activity-thematic-focus/"
                    }
                  }
                }
              ]
            }
          },
          "subs": ["if", "then", "paths"]
        }
      ]
    },
    "strict_sum": {
      "cases": [
        {
          "condition": "count(sector[@vocabulary='' or @vocabulary='1' or not(@vocabulary)]/@percentage) > 1",
          "paths": [
            "sector[@vocabulary = '1' or @vocabulary = '' or not(@vocabulary)]/@percentage"
          ],
          "sum": 100,
          "ruleInfo": {
            "id": "2.1.2",
            "severity": "error",
            "category": "classifications",
            "message": "Percentage values for sectors, within a vocabulary (e.g. 1 - OECD DAC), must add up to 100%.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/activity-thematic-focus/"
            }
          }
        },
        {
          "condition": "count(recipient-country) > 1 and not(recipient-region)",
          "paths": ["recipient-country/@percentage"],
          "sum": 100,
          "ruleInfo": {
            "id": "3.1.2",
            "severity": "error",
            "category": "geo",
            "message": "Percentage values for recipient countries, must add up to 100%.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/countries-regions/"
            }
          }
        }
      ]
    },
    "range": {
      "cases": [
        {
          "paths": ["recipient-country/@percentage"],
          "min": 0.0,
          "ruleInfo": {
            "id": "12.1.2",
            "severity": "error",
            "category": "geo",
            "message": "The country percentage value must be 0.0 or positive.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/countries-regions/"
            }
          }
        },
        {
          "paths": ["recipient-region/@percentage"],
          "min": 0.0,
          "ruleInfo": {
            "id": "12.1.2",
            "severity": "error",
            "category": "geo",
            "message": "The region percentage value must be 0.0 or positive.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/countries-regions/"
            }
          }
        },
        {
          "paths": ["sector/@percentage"],
          "min": 0.0,
          "ruleInfo": {
            "id": "12.3.2",
            "severity": "error",
            "category": "classifications",
            "message": "The sector percentage value must be 0.0 or positive.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/activity-thematic-focus/"
            }
          }
        },
        {
          "paths": ["capital-spend/@percentage"],
          "min": 0.0,
          "ruleInfo": {
            "id": "12.2.2",
            "severity": "error",
            "category": "financial",
            "message": "The percentage value must be 0.0 or positive.",
            "link": {
              "path": "activity-standard/iati-activities/iati-activity/capital-spend/"
            }
          }
        },
        {
          "paths": ["country-budget-items/budget-item/@percentage"],
          "min": 0.0,
          "ruleInfo": {
            "id": "12.2.2",
            "severity": "error",
            "category": "financial",
            "message": "The percentage value must be 0.0 or positive.",
            "link": {
              "path": "activity-standard/iati-activities/iati-activity/capital-spend/"
            }
          }
        }
      ]
    },
    "if_then": {
      "cases": [
        {
          "if": "title/narrative",
          "then": "string(title//narrative) != ''",
          "paths": ["title/narrative"],
          "ruleInfo": {
            "id": "4.3.1",
            "severity": "error",
            "category": "information",
            "message": "The title must contain narrative content.",
            "link": {
              "path": "activity-standard/iati-activities/iati-activity/title/"
            }
          }
        },
        {
          "if": "count(description[not(@type) or @type = '']/narrative) > 0",
          "then": "string(description[not(@type) or @type = '']//narrative) != ''",
          "paths": ["description[not(@type) or @type = '']/narrative"],
          "ruleInfo": {
            "id": "4.4.1",
            "severity": "error",
            "category": "information",
            "message": "The description must contain narrative content.",
            "link": {
              "path": "activity-standard/iati-activities/iati-activity/title/"
            }
          }
        },
        {
          "if": "count(sector[@vocabulary=98 or @vocabulary=99]) > 0",
          "then": "count(sector[@vocabulary=98 or @vocabulary=99]/narrative) >= count(sector[@vocabulary=98 or @vocabulary=99])",
          "paths": [
            "sector[@vocabulary=98 or @vocabulary=99]",
            "sector[@vocabulary=98 or @vocabulary=99]/narrative"
          ],
          "ruleInfo": {
            "id": "2.2.1",
            "severity": "error",
            "category": "classifications",
            "message": "When using a reporting organisation sector code (vocabulary 98 or 99), it must include a narrative.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/activity-thematic-focus/"
            }
          }
        },
        {
          "if": "count(sector[not(@vocabulary='')]) + count(sector[not(@vocabulary='1')]) > 0",
          "then": "count(sector[@vocabulary='' or @vocabulary='1' or not(@vocabulary)]) > 0",
          "paths": [
            "sector[not(@vocabulary='')]",
            "sector[not(@vocabulary='1')]",
            "sector[@vocabulary='' or @vocabulary='1' or not(@vocabulary)]"
          ],
          "ruleInfo": {
            "id": "102.1.1",
            "severity": "warning",
            "category": "information",
            "message": "When a non OECD DAC sector vocabulary is used, sector vocabulary 1 - OECD DAC should also be used.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/activity-thematic-focus/"
            }
          }
        },
        {
          "if": "count(sector[@vocabulary='' or @vocabulary='1' or not(@vocabulary)]) > 1",
          "then": "count(sector[@vocabulary='' or @vocabulary='1' or not(@vocabulary)]) = count(sector[@vocabulary='' or @vocabulary='1' or not(@vocabulary)]/@percentage)",
          "paths": [
            "sector[@vocabulary='' or @vocabulary='1' or not(@vocabulary)]"
          ],
          "ruleInfo": {
            "id": "2.1.1",
            "severity": "error",
            "category": "classifications",
            "message": "When multiple sectors, within a vocabulary (e.g. 1 - OECD DAC) are declared, each must have a percentage.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/activity-thematic-focus/"
            }
          }
        },
        {
          "if": "count(sector[@vocabulary='' or @vocabulary='1' or not(@vocabulary)]) = 1",
          "then": "not(sector[@vocabulary='' or @vocabulary='1' or not(@vocabulary)]/@percentage) or sector[@vocabulary='' or @vocabulary='1' or not(@vocabulary)]/@percentage = 100",
          "paths": [
            "sector[@vocabulary='' or @vocabulary='1' or not(@vocabulary)]"
          ],
          "ruleInfo": {
            "id": "2.1.4",
            "severity": "error",
            "category": "classifications",
            "message": "When a single sector is declared, the percentage must either be omitted, or set to 100.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/activity-thematic-focus/"
            }
          }
        },
        {
          "if": "count(sector) > 0",
          "then": "count(transaction/sector) < 1",
          "paths": ["sector", "transaction/sector"],
          "ruleInfo": {
            "id": "6.6.2",
            "severity": "error",
            "category": "classifications",
            "message": "Sectors must only be declared at activity level OR for all transactions.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/activity-thematic-focus/"
            }
          }
        },
        {
          "if": "recipient-country or recipient-region",
          "then": "not(transaction/recipient-country or transaction/recipient-region)",
          "paths": [
            "recipient-country",
            "recipient-region",
            "transaction/recipient-country",
            "transaction/recipient-region"
          ],
          "ruleInfo": {
            "id": "3.6.2",
            "severity": "error",
            "category": "financial",
            "message": "Recipient countries or regions must only be declared at activity level OR for all transactions.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/financial-transactions/"
            }
          }
        },
        {
          "if": "not(recipient-country or recipient-region)",
          "then": "transaction[recipient-country or recipient-region]",
          "paths": [
            "recipient-country",
            "recipient-region",
            "transaction[recipient-country or recipient-region]"
          ],
          "ruleInfo": {
            "id": "3.7.1",
            "severity": "error",
            "category": "financial",
            "message": "Recipient country or recipient region should be declared for either the activity or for all transactions.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/countries-regions/"
            }
          }
        },
        {
          "if": "not(recipient-country or recipient-region)",
          "then": "not(transaction[not(recipient-country or recipient-region)])",
          "paths": [
            "recipient-country",
            "recipient-region",
            "transaction[not(recipient-country or recipient-region)]"
          ],
          "ruleInfo": {
            "id": "3.7.2",
            "severity": "error",
            "category": "financial",
            "message": "Recipient country or recipient region should be declared for either the activity or for all transactions.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/countries-regions/"
            }
          }
        },
        {
          "if": "count(recipient-country) > 1 and not(recipient-region)",
          "then": "count(recipient-country) = count(recipient-country/@percentage)",
          "paths": ["recipient-country", "recipient-region"],
          "ruleInfo": {
            "id": "3.1.1",
            "severity": "error",
            "category": "geo",
            "message": "When multiple recipient countries are declared, each must have a percentage.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/countries-regions/"
            }
          }
        },
        {
          "if": "count(recipient-country) = 1 and not(recipient-region)",
          "then": "not(recipient-country/@percentage) or recipient-country/@percentage = 100",
          "paths": ["recipient-country", "recipient-region"],
          "ruleInfo": {
            "id": "3.1.4",
            "severity": "error",
            "category": "geo",
            "message": "When a single recipient country is declared, the percentage must either be omitted, or set to 100.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/countries-regions/"
            }
          }
        }
      ]
    }
  },
  "//iati-activity/other-identifier/owner-org": {
    "atleast_one": {
      "cases": [
        {
          "paths": ["@ref", "narrative"],
          "ruleInfo": {
            "id": "6.8.1",
            "severity": "error",
            "category": "information",
            "message": "The owner organisation must have an identifier or a narrative."
          }
        }
      ]
    },
    "no_spaces": {
      "cases": [
        {
          "paths": ["@ref"],
          "ruleInfo": {
            "id": "1.11.1",
            "severity": "warning",
            "category": "identifiers",
            "message": "The owner organisation identifier should not start or end with spaces or newlines."
          }
        }
      ]
    },
    "regex_matches": {
      "cases": [
        {
          "idCondition": "NOT_EXISTING_ORG_ID",
          "regex": "^[^\\/\\&\\|\\?]+$",
          "paths": ["@ref"],
          "ruleInfo": {
            "id": "1.11.13",
            "severity": "warning",
            "category": "identifiers",
            "message": "The owner organisation identifier must not contain any of the symbols /, &, | or ?."
          }
        }
      ]
    }
  },
  "//provider-org": {
    "atleast_one": {
      "cases": [
        {
          "paths": ["@ref", "narrative"],
          "ruleInfo": {
            "id": "6.9.1",
            "severity": "error",
            "category": "financial",
            "message": "The provider organisation must have an organisation identifier or a narrative."
          }
        }
      ]
    },
    "regex_matches": {
      "cases": [
        {
          "idCondition": "NOT_EXISTING_ORG_ID",
          "regex": "^[^\\/\\&\\|\\?]+$",
          "paths": ["@ref"],
          "ruleInfo": {
            "id": "1.10.13",
            "severity": "warning",
            "category": "financial",
            "message": "The provider organisation identifier must not contain any of the symbols /, &, | or ?."
          }
        }
      ]
    },
    "no_spaces": {
      "cases": [
        {
          "paths": ["@ref"],
          "ruleInfo": {
            "id": "1.10.1",
            "severity": "warning",
            "category": "financial",
            "message": "The provider organisation identifier should not start or end with spaces or newlines."
          }
        },
        {
          "paths": ["@provider-activity-id"],
          "ruleInfo": {
            "id": "1.4.1",
            "severity": "warning",
            "category": "financial",
            "message": "The provider-org activity identifier should not start or end with spaces or newlines."
          }
        }
      ]
    }
  },
  "//receiver-org": {
    "atleast_one": {
      "cases": [
        {
          "paths": ["@ref", "narrative"],
          "ruleInfo": {
            "id": "6.9.2",
            "severity": "error",
            "category": "financial",
            "message": "The receiver organisation must have an organisation identifier or a narrative."
          }
        }
      ]
    },
    "no_spaces": {
      "cases": [
        {
          "paths": ["@ref"],
          "ruleInfo": {
            "id": "1.15.1",
            "severity": "warning",
            "category": "financial",
            "message": "The receiver-org identifier should not start or end with spaces or newlines."
          }
        },
        {
          "paths": ["@receiver-activity-id"],
          "ruleInfo": {
            "id": "1.5.1",
            "severity": "warning",
            "category": "financial",
            "message": "The receiver-org activity identifier should not start or end with spaces or newlines."
          }
        }
      ]
    },
    "regex_matches": {
      "cases": [
        {
          "idCondition": "NOT_EXISTING_ORG_ID",
          "regex": "^[^\\/\\&\\|\\?]+$",
          "paths": ["@ref"],
          "ruleInfo": {
            "id": "1.15.13",
            "severity": "warning",
            "category": "financial",
            "message": "The receiver-org identifier must not contain any of the symbols /, &, | or ?."
          }
        }
      ]
    }
  },
  "//policy-marker": {
    "atleast_one": {
      "cases": [
        {
          "condition": "@vocabulary='1' or @vocabulary = '' or not(@vocabulary)",
          "paths": ["@significance"],
          "ruleInfo": {
            "id": "6.14.1",
            "severity": "error",
            "category": "classifications",
            "message": "When using a policy marker code for vocabulary 1, it must include a significance.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/activity-classifications/"
            }
          }
        },
        {
          "condition": "@vocabulary='99'",
          "paths": ["narrative"],
          "ruleInfo": {
            "id": "6.13.1",
            "severity": "error",
            "category": "classifications",
            "message": "When using a reporting organisation policy marker code (vocabulary 99), it must include a narrative.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/activity-classifications/"
            }
          }
        }
      ]
    }
  },
  "//iati-organisation": {
    "startswith": {
      "cases": [
        {
          "idCondition": "NOT_EXISTING_ORG_ID",
          "prefix": ["ORG-ID-PREFIX"],
          "paths": ["reporting-org/@ref"],
          "ruleInfo": {
            "id": "1.18.8",
            "severity": "warning",
            "category": "identifiers",
            "message": "The reporting organisation id must start with an approved agency code.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/preparing-organisation/organisation-account/how-to-create-your-iati-organisation-identifier/"
            }
          }
        }
      ]
    },
    "regex_matches": {
      "cases": [
        {
          "idCondition": "NOT_EXISTING_ORG_ID",
          "regex": "^[^\\/\\&\\|\\?]+$",
          "paths": ["organisation-identifier"],
          "ruleInfo": {
            "id": "1.12.13",
            "severity": "warning",
            "category": "organisation",
            "message": "The organisation-identifier must not contain any of the symbols /, &, | or ?.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/preparing-organisation/organisation-account/how-to-create-your-iati-organisation-identifier/"
            }
          }
        },
        {
          "idCondition": "NOT_EXISTING_ORG_ID",
          "regex": "^[^\\/\\&\\|\\?]+$",
          "paths": ["reporting-org/@ref"],
          "ruleInfo": {
            "id": "1.18.13",
            "severity": "warning",
            "category": "identifiers",
            "message": "The reporting-org identifier must not contain any of the symbols /, &, | or ?.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/preparing-organisation/organisation-account/how-to-create-your-iati-organisation-identifier/"
            }
          }
        }
      ]
    },
    "no_spaces": {
      "cases": [
        {
          "paths": ["organisation-identifier"],
          "ruleInfo": {
            "id": "1.12.1",
            "severity": "warning",
            "category": "organisation",
            "message": "The organisation-identifier should not start or end with spaces or newlines.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/preparing-organisation/organisation-account/how-to-create-your-iati-organisation-identifier/"
            }
          }
        },
        {
          "paths": ["recipient-org-budget/recipient-org/@ref"],
          "ruleInfo": {
            "id": "1.17.1",
            "severity": "warning",
            "category": "organisation",
            "message": "The recipient organisation identifier should not start or end with spaces or newlines."
          }
        },
        {
          "paths": ["reporting-org/@ref"],
          "ruleInfo": {
            "id": "1.18.1",
            "severity": "warning",
            "category": "identifiers",
            "message": "The reporting-org identifier should not start or end with spaces or newlines.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/preparing-organisation/organisation-account/how-to-create-your-iati-organisation-identifier/"
            }
          }
        }
      ]
    },
    "date_now": {
      "cases": [
        {
          "date": "@last-updated-datetime",
          "ruleInfo": {
            "id": "11.4.1",
            "severity": "error",
            "category": "information",
            "message": "The last updated datetime of the organisation must not be in the future."
          }
        }
      ]
    },
    "one_or_all": {
      "cases": [
        {
          "one": "@xml:lang",
          "all": "lang",
          "ruleInfo": {
            "id": "4.5.1",
            "severity": "error",
            "category": "information",
            "message": "The organisation should specify a default language, or the language should be specified for each narrative element.",
            "link": { "path": "codelists/Language/" }
          }
        },
        {
          "one": "@default-currency",
          "all": "currency",
          "ruleInfo": {
            "id": "7.8.2",
            "severity": "error",
            "category": "financial",
            "message": "The financial value must have a specified currency, or the organisation must declare a default currency.",
            "link": { "path": "codelists/Currency/" }
          }
        }
      ]
    }
  },
  "//participating-org": {
    "atleast_one": {
      "cases": [
        {
          "paths": ["@ref", "narrative"],
          "ruleInfo": {
            "id": "6.10.1",
            "severity": "error",
            "category": "participating",
            "message": "The participating organisation must have an identifier or a narrative.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/activity-participants/"
            }
          }
        }
      ]
    },
    "regex_matches": {
      "cases": [
        {
          "idCondition": "NOT_EXISTING_ORG_ID",
          "regex": "^[^\\/\\&\\|\\?]+$",
          "paths": ["@ref"],
          "ruleInfo": {
            "id": "1.8.13",
            "severity": "warning",
            "category": "participating",
            "message": "The receiver-org identifier must not contain any of the symbols /, &, | or ?."
          }
        }
      ]
    },
    "no_spaces": {
      "cases": [
        {
          "paths": ["@ref"],
          "ruleInfo": {
            "id": "1.8.1",
            "severity": "warning",
            "category": "participating",
            "message": "The participating-org identifier should not start or end with spaces or newlines."
          }
        },
        {
          "paths": ["@activity-id"],
          "ruleInfo": {
            "id": "1.9.1",
            "severity": "warning",
            "category": "participating",
            "message": "The participating-org activity identifier should not start or end with spaces or newlines."
          }
        }
      ]
    }
  },
  "//planned-disbursement": {
    "date_order": {
      "cases": [
        {
          "less": "period-start/@iso-date",
          "more": "period-end/@iso-date",
          "ruleInfo": {
            "id": "8.6.3",
            "severity": "error",
            "category": "financial",
            "message": "The start of the period must be before the end of the period.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/organisation-budgets-spend/"
            }
          }
        }
      ]
    }
  },
  "//budget": {
    "date_order": {
      "cases": [
        {
          "less": "period-start/@iso-date",
          "more": "period-end/@iso-date",
          "ruleInfo": {
            "id": "8.6.3",
            "severity": "error",
            "category": "financial",
            "message": "The start of the period must be before the end of the period.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/organisation-budgets-spend/"
            }
          }
        }
      ]
    },
    "time_limit": {
      "cases": [
        {
          "start": "period-start/@iso-date",
          "end": "period-end/@iso-date",
          "ruleInfo": {
            "id": "7.5.3",
            "severity": "error",
            "category": "financial",
            "message": "Budget Period must not be longer than one year.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/activity-budgets/"
            }
          }
        }
      ]
    }
  },
  "//total-budget": {
    "date_order": {
      "cases": [
        {
          "less": "period-start/@iso-date",
          "more": "period-end/@iso-date",
          "ruleInfo": {
            "id": "8.6.3",
            "severity": "error",
            "category": "financial",
            "message": "The start of the period must be before the end of the period.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/organisation-budgets-spend/"
            }
          }
        }
      ]
    },
    "time_limit": {
      "cases": [
        {
          "start": "period-start/@iso-date",
          "end": "period-end/@iso-date",
          "ruleInfo": {
            "id": "7.5.3",
            "severity": "error",
            "category": "financial",
            "message": "Budget Period must not be longer than one year.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/activity-budgets/"
            }
          }
        }
      ]
    }
  },
  "//recipient-country-budget": {
    "date_order": {
      "cases": [
        {
          "less": "period-start/@iso-date",
          "more": "period-end/@iso-date",
          "ruleInfo": {
            "id": "8.6.3",
            "severity": "error",
            "category": "financial",
            "message": "The start of the period must be before the end of the period.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/organisation-budgets-spend/"
            }
          }
        }
      ]
    },
    "between_dates": {
      "cases": [
        {
          "date": "budget-line/value/@value-date",
          "start": "period-start/@iso-date",
          "end": "period-end/@iso-date",
          "ruleInfo": {
            "id": "11.3.1",
            "severity": "error",
            "category": "financial",
            "message": "The budget line value date must be within the budget period.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/organisation-budgets-spend/"
            }
          }
        }
      ]
    },
    "time_limit": {
      "cases": [
        {
          "start": "period-start/@iso-date",
          "end": "period-end/@iso-date",
          "ruleInfo": {
            "id": "7.5.3",
            "severity": "error",
            "category": "financial",
            "message": "Budget Period must not be longer than one year.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/activity-budgets/"
            }
          }
        }
      ]
    }
  },
  "//recipient-org-budget": {
    "date_order": {
      "cases": [
        {
          "less": "period-start/@iso-date",
          "more": "period-end/@iso-date",
          "ruleInfo": {
            "id": "8.6.3",
            "severity": "error",
            "category": "financial",
            "message": "The start of the period must be before the end of the period.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/organisation-budgets-spend/"
            }
          }
        }
      ]
    },
    "time_limit": {
      "cases": [
        {
          "start": "period-start/@iso-date",
          "end": "period-end/@iso-date",
          "ruleInfo": {
            "id": "7.5.3",
            "severity": "error",
            "category": "financial",
            "message": "Budget Period must not be longer than one year.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/activity-budgets/"
            }
          }
        }
      ]
    }
  },
  "//recipient-region-budget": {
    "date_order": {
      "cases": [
        {
          "less": "period-start/@iso-date",
          "more": "period-end/@iso-date",
          "ruleInfo": {
            "id": "8.6.3",
            "severity": "error",
            "category": "financial",
            "message": "The start of the period must be before the end of the period.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/organisation-budgets-spend/"
            }
          }
        }
      ]
    },
    "time_limit": {
      "cases": [
        {
          "start": "period-start/@iso-date",
          "end": "period-end/@iso-date",
          "ruleInfo": {
            "id": "7.5.3",
            "severity": "error",
            "category": "financial",
            "message": "Budget Period must not be longer than one year.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/activity-budgets/"
            }
          }
        }
      ]
    }
  },
  "//result/indicator": {
    "no_more_than_one": {
      "cases": [
        {
          "paths": ["reference[1]", "../reference[1]"],
          "ruleInfo": {
            "id": "8.11.1",
            "severity": "error",
            "category": "performance",
            "message": "A reference code must only be declared at result OR result indicator level.",
            "link": {
              "path": "activity-standard/iati-activities/iati-activity/result/indicator/reference/"
            }
          }
        }
      ]
    }
  },
  "//result/indicator/period": {
    "date_order": {
      "cases": [
        {
          "less": "period-start/@iso-date",
          "more": "period-end/@iso-date",
          "ruleInfo": {
            "id": "8.6.1",
            "severity": "error",
            "category": "performance",
            "message": "The start date of the indicator period must be before the end date of the indicator period.",
            "link": {
              "path": "activity-standard/iati-activities/iati-activity/result/indicator/period/period-start/"
            }
          }
        }
      ]
    }
  },
  "//total-expenditure": {
    "time_limit": {
      "cases": [
        {
          "start": "period-start/@iso-date",
          "end": "period-end/@iso-date",
          "ruleInfo": {
            "id": "7.5.3",
            "severity": "error",
            "category": "financial",
            "message": "Budget Period must not be longer than one year.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/activity-budgets/"
            }
          }
        }
      ]
    },
    "date_order": {
      "cases": [
        {
          "less": "period-start/@iso-date",
          "more": "period-end/@iso-date",
          "ruleInfo": {
            "id": "8.6.3",
            "severity": "error",
            "category": "financial",
            "message": "The start of the period must be before the end of the period.",
            "link": {
              "url": "https://iatistandard.org/en/guidance/standard-guidance/organisation-budgets-spend/"
            }
          }
        }
      ]
    }
  }
}
